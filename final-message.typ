#import "@preview/wrap-it:0.1.1": *

#set text(font: "JetBrains Mono")

#set page(
  paper: "a4",
  margin: (x: 1cm, y: 1cm),
  header: [#align(center, [DRSS Institut])],
  footer: [#grid(columns: (auto, 1fr, auto), [20250927], [], [Přepisový formulář DaI\#25])]
)



#let wave-ascii = image("images/audio-last.svg", height: 2.5em)

#let sender-img = block(stroke: none,// {{{
  par(leading: 0.3em, text(font: "JetBrains Mono", size: 4.2pt, "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%#++++++*#%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%*=--=============++++#%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%#=---=============+++++*####***%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@#=------==========++******##**+++=--=*@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@#=--------==========+**###***####*+++*++=*@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@#=--===-----=+======++*#####****#%##***++++=-*@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@%+---===-----=======++++*####*******%####*+++====%@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@#----===-----======++++**##**++**+**#%%#%##*+=+++-*@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@%-----===---======++++++*##*+++**++*##*##%###*#+++=+@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@#----===----=====++++++*#+==+***+*##*#########*++==#@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@#=---===---=====+++++++++++++****##%%%%#######++++=%@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@%+-=-====--=====++++++++++++++***#%%%%%%%%%####*++=+@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@#========--=====+++++===++++****##%%%%%%%######**+-#@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@+--======-=====++++=====++++***##*%%%%%%%########+-%@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@#-----====-====+++========++++*###%%%%%%%%%#####*+==@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@%=-----========+=========+++###*#%%%%%%%%%%%%##*++=%@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@#*=-----===============+*###*#####%%%%%%%%####**==@@@@@@@@+-::-#@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@#*#*=----======-==--=+#####%%%#*##%%%%%%%%##****=+@@@@@@@*:.::.-%@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@*+###+=-======-==--=*####%%%%#***#%%%%%%%##*##++=%@@@@@@@#::.::-%@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@+*###%+======--===+######%%%%###*#%%%%%#*###*#*=+%@@@@@@@@%#++#@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@%+#####%+==++=====+*##***##%#%%##*##%%%*#%**#+#+++%@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@%*%#--+#*++++====++#%%+--%@%######%###*#%%%**+#*++@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@%#*#++%%*++**+=+++##@@+-=%#%%%%##%%%##+%@##*++#++#@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@#+*#%%%###*#*#+++=*#####**######%####+*@%##*=***+%@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@%--==+*++++++++++++=====+++++***#%###*#@%#*+=%++*@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@#----=+++=-==========--====++*#*%####*%%#++=+#++@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@%----=+++=--=======---====+++**+###*#*###++-#*=+@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@+----=++=--=====----=====++**+###+#*++++-=%*#-*@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@#+----====-====-----====++**+#%#*##**++=++##+=%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@#+=---===-===------==++**#+%###**#***##++#*++@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@#*=---======-----=++**##@@#****##*#***++##=%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@%#=---===+=----=+**##@%##+++#*####***=+**+@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@%*#--===%+=---=+***%#%#*++*#**#%#***+=##+#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@%%*====+#%@@@@@@@@@@@@@#*+-==+%+=--=+**+%##*#%#**+**#%#**+=+##=#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@#=:::..:::-#%@@@@@@@@@@@@%#+==+#*==-=+**##%%#**++*#*#%##*+=+##+=%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@#-::.:.::.:.-#%@@@@@@@@@@@%+%==+*#====+*+%%##*+=+#+*#%#*+==*#%#++%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@%+:.:.::::.:.:=%@@@@@@@@@@@@#+*=++%+==+*++###*###*+*%#**==###%%#=+#+#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@%+:.:::::::::.=%@@@@@@@@@@@@@%*==+##==+*++##%#*++*##*++#@@%##%%#=+#+%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@%-::::.::::.-#@@@@@@@@@@@@@@@%+=++#+=++++%%**+*##*++%%%%@%#%%##=*#*%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@%+:.:..:.:=#@@@@@@@@@@@@@@@@@**=++#+++=+#**++**+#%%%##@%%#%########@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@%#*+++#%@@@@@@@@@@@@@@@@@@@#+##*%*+++#+=++++%%%%%#*@%%##%#%%#####@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@##+===+++++++++#%%%%%%#+%@%%*#%%###%#**@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%+##%*+===++++#%%%%%%%%#+%%%%#*%####%##*+@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@#+###%#=+##########%%##+#@%%%#%####%####*+%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@++####%##==++++**#####*#%%#%%%**##%######++#@@@@@@@@@@@@@@%+----+%@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@+######=+%==++++*#*+*+%###%++*##%########*++@@@@@@@@@@@@%+::::..::*@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@+###*#@+-##=++++****%###*++*#############*++#@@@@@@@@@@@#::::::::.-#@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@*####%#@+=#*=+=+**###%==+*###############++++%@@@@@@@@@@#-.::::.::-#@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@#*#*##**%+=#++=+*%#*##=+####*############++++*@@@@@@@@@@@*-::..:.:#@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@#+%#%***+#+=+=+=#***%++*#####%###########+++++++%@@@@@@@@@%#=--=#%@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@%+%#%***++#+=-==+*#%*++*###*=+=+########*++++#*+++#@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@%*+##%%**++=+=-==+*#+++**###++++*########*+++*##*++++#@@@@@@@@@@@@@@@@@@@@
")))// }}}


#let text-intro = par[
Vítej v observatoři, Dane.

Jako jediný z námi oslovených pozemšťanů jsi zvládl nalézt a absolvovat cestu do tohoto našeho střediska. Nyní nadešel čas na tvůj poslední úkol. Na úkol, který rozhodne o všem. 

Naši nejlepší výzkumníci zjistili, že problém 3 našich sluncí není řešitelný tím, čemu říkáte analytické metody. V systému rovnic, popisujících chování těchto kosmických těles, je přespříliš neznámých. Zjistili jsme však, že když budeme znát počáteční podmínky, můžeme si po drobných krocích vykreslit následující pozice a směry těchto vesmírných těles.
]

#let text-main = par[
  #v(0.99em)
  #set math.equation(numbering: "(1)")
  // #show math.equation: set text(font: "Fira Math")
  #show math.equation: set text(font: "New Computer Modern Math")

Vědci definovali krok této simulační funkce 

  $ mono("Fn"(p_1_0, p_2_0, p_3_0, v_1_0, v_2_0, v_3_0, m_1, m_2, m_3, "dt", G) arrow.long p_1_1\, p_2_1\, p_3_1\, v_1_1\, v_2_1\, v_3_1) $

  (kde $mono(p)$ jsou pozice planet, $mono(v)$ jejich rychlosti, $mono(m)$ jejich váhy, $mono("dt")$ granularita simulace a $mono(G)$ gravitační konstanta) pomocí následujících vztahů:

  $ mono(S = {1, 2, 3} ) $
  $ mono(forall i in S : p_i_1 = p_i_0 + (v_i_1 dot m_i + "dt")/m_i) $
  $ mono(forall i\, j\, k in S\; i eq.not j eq.not k : v_i_1 = (v_i_0 dot m_i + (F_"ij" + F_"ki") dot "dt")/m_i) $
  $ mono(forall i\, j in S : F_"ij" = (-G dot m_i dot hat(r)_"ij")/(||r_"ij"||^2)) $
  $ mono(forall i\, j in S : r_"ij" = p_j_0 + p_i_0) $
  $ mono(||u|| = sqrt(u_0^2 + u_1^2 + u_2^2)) $
  $ mono(hat(u) = u/(||u||)) $


Před Tebou se nachází mainframe. Zapni jej a naimplementuj $mono("Fn"(. . .))$. V případě neúspěchu nebudeme mít na výběr, než obsadit Zemi, zotročit lidstvo a překazit Ti svatbu. A to nechceš. Věříme však ve Tvůj úspěch, muž který si poradil se všemi překážkami si jistě poradí i nyní.

Mnoho zdaru,
Trisolané

#text(size: 0.8em)[PS: Heslo od terminálu (trošku zamotané) se nachází v levém dolním rohu první zprávy]

]

#let body-grid = text(size: 0.97em, grid(
  columns: 1,
  grid.cell(grid(
    columns: (1fr, 1fr),
    grid.cell(inset: 0.5em, text-intro),
    grid.cell(
      stroke: 1pt + black,
      inset: 0.7em,
      align(center + horizon, sender-img)
    )
 
  )),
  grid.cell(inset: 0.5em, text-main)
))




#table(
  columns: (1fr, 1fr),

  align(horizon, text(weight: "bold", size: 1.2em, [Přepis přijaté zprávy])),
  [#wave-ascii],
  [*Zdroj:* RA 14h39m36.5s, Dec −60°50′02″],
  [*Odesílatel:* Trisolané],
  table.cell(colspan: 2, inset: 0pt, [#body-grid]),
  table.cell(colspan: 2, inset: 0pt, table(
    columns: (1fr, 2fr, 1fr),
    align(center + horizon, rotate(90deg, reflow: true, image("images/three-body-logo-smaller.svg", height: 5em))),
    [],
    align(horizon + right, [20. 9. 2025])
  ))
)
